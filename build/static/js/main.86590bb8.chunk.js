(this["webpackJsonpcook-book"]=this["webpackJsonpcook-book"]||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),r=n(18),o=n.n(r),i=(n(81),n(14)),s=n(71),u=n.n(s),d=n(135),l=n(136),j=n(137),b=n(138),m=n(132),p=n(140),h=n(139),_=n(24),O=n(19),f=n(29),x=n.n(f),g=n(31),v=n(126),k=n(143),P=n(128),N=n(130),S=n(131),y=n(144),I=n(4),w=Object(v.a)((function(t){return Object(k.a)({drawer:Object(O.a)({},t.breakpoints.up("sm"),{width:240,flexShrink:0}),toolbar:t.mixins.toolbar})})),C=function(){var t=w();return Object(I.jsx)("div",{className:x.a.menu_container,children:Object(I.jsxs)("nav",{className:x.a.menu_group,children:[Object(I.jsx)("div",{className:"".concat(t.toolbar," ").concat(x.a.menu_toolbar),children:"Cook books"}),Object(I.jsx)(P.a,{}),Object(I.jsxs)(N.a,{className:x.a.menu_list,children:[Object(I.jsxs)(S.a,{className:x.a.menu_list_item,component:g.b,button:!0,to:"/products",children:[Object(I.jsx)(m.a,{className:x.a.menu_list_item_icon,children:"fastfood"}),Object(I.jsx)(y.a,{primary:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"})]},"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"),Object(I.jsxs)(S.a,{className:x.a.menu_list_item,component:g.b,button:!0,to:"/dishes",children:[Object(I.jsx)(m.a,{className:x.a.menu_list_item_icon,children:"ramen_dining"}),Object(I.jsx)(y.a,{primary:"\u0411\u043b\u044e\u0434\u0430"})]},"\u0411\u043b\u044e\u0434\u0430"),Object(I.jsxs)(S.a,{className:x.a.menu_list_item,component:g.b,button:!0,to:"/recipes",children:[Object(I.jsx)(m.a,{className:x.a.menu_list_item_icon,children:"list"}),Object(I.jsx)(y.a,{primary:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"})]},"\u0420\u0435\u0446\u0435\u043f\u0442\u044b")]})]})})},D=n(12),E=(n(90),n(30)),B=n(51),T=n(56);T.a.initializeApp({apiKey:"AIzaSyDB3dwO2iuIiboCD_gcAECctaPmNLL75k8",authDomain:"cookbook-248b9.firebaseapp.com",databaseURL:"https://cookbook-248b9.firebaseio.com",projectId:"cookbook-248b9",storageBucket:"cookbook-248b9.appspot.com",messagingSenderId:"351867999892",appId:"1:351867999892:web:55d06f16665198e6aac681",measurementId:"G-FTH6SEQE7Q"});var F=T.a.firestore();function U(){return F.collection("products").get().then((function(t){return t.docs.map((function(t){return Object(B.a)({id:t.id},t.data())}))})).catch((function(t){console.log("Error getting products: ",t)}))}function M(){return F.collection("dishes").get().then((function(t){return t.docs.map((function(t){return Object(B.a)({id:t.id},t.data())}))})).catch((function(t){console.log("Error getting dishes: ",t)}))}function L(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),s=o[0],u=o[1],d=Object(c.useState)([]),l=Object(i.a)(d,2),j=l[0],b=l[1],m=Object(c.useState)([]),p=Object(i.a)(m,2),h=p[0],_=p[1],O=Object(c.useState)(),f=Object(i.a)(O,2),x=f[0],g=f[1];return Object(c.useEffect)((function(){U().then(a),M().then(u)}),[]),{data:{products:n,product:j,dishes:s,dish:h,dishProducts:x},actions:{getProducts:function(){return U().then(a)},getProductById:function(t){return function(t){return F.collection("products").doc(t).get().then((function(t){return t.data()})).catch((function(t){return console.log("Error getting a product by Id: ",t)}))}(t).then(b)},getDishes:function(){return M().then(u)},getDishById:function(t){return function(t){return F.collection("dishes").doc(t).get().then((function(t){return t.data()})).catch((function(t){console.log("Error getting dish by Id: ",t)}))}(t).then(_)},getProductDishById:function(t){return(e=t,F.collection("products").doc(e).get().then((function(t){return t.data()})).catch((function(t){return console.log("Error getting a product by Id: ",t)}))).then(g);var e},createProduct:function(t){return function(t){return F.collection("products").add(Object(B.a)({},t)).then((function(t){return t.get()})).then((function(t){return Object(B.a)({id:t.id},t.data())}))}(t).then((function(t){return a([].concat(Object(E.a)(n),[t]))}))}}}}n(95);var A=function(t){return Object(I.jsx)(S.a,{children:Object(I.jsx)(g.b,{to:"/product/"+t.data.id,children:Object(I.jsx)(y.a,{children:t.data.name})})})},q=n(134),R=n(62),J=n.n(R),z=n(73),G=n(38),K=n.n(G),H=n(133),Q=n(142),W=n(141),X=function(t){var e=L().actions,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),u=Object(i.a)(s,2),d=u[0],l=u[1],j=Object(c.useState)(""),b=Object(i.a)(j,2),m=b[0],p=b[1],h={},_=function(){var n=Object(z.a)(J.a.mark((function n(c){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),h.name=r,h.description=d,h.urlPic=m,o(""),l(""),p(""),n.next=9,e.createProduct(h);case 9:t.handleClick();case 10:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),O=function(t){o(t.target.value)},f=function(t){l(t.target.value)},x=function(t){p(t.target.value)};return Object(I.jsx)("div",{children:t.toggle?Object(I.jsx)("div",{className:K.a.modal,children:Object(I.jsxs)("div",{className:K.a.modal_content,children:[Object(I.jsxs)("div",{className:K.a.modal_header,children:[Object(I.jsx)("h2",{className:K.a.title,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),Object(I.jsx)("span",{className:K.a.close,onClick:t.handleClick,children:"\xd7"})]}),Object(I.jsxs)("form",{className:K.a.form,onSubmit:_,children:[Object(I.jsxs)(H.a,{required:!0,children:[Object(I.jsx)(Q.a,{htmlFor:"component-outlined",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(I.jsx)(W.a,{name:"product_name",id:"product_name",value:r,label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:O})]}),Object(I.jsxs)(H.a,{required:!0,children:[Object(I.jsx)(Q.a,{htmlFor:"component-outlined",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(I.jsx)(W.a,{id:"product_desc",name:"product_desc",value:d,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:f})]}),Object(I.jsxs)(H.a,{required:!0,children:[Object(I.jsx)(Q.a,{htmlFor:"component-outlined",children:"URL \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"}),Object(I.jsx)(W.a,{id:"product_pic",name:"product_pic",value:m,label:"URL \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",onChange:x})]}),Object(I.jsx)(q.a,{type:"submit",variant:"contained",color:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})}):null})},Z=function(){var t=L(),e=t.data.products,n=t.actions,a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],s=r[1];return Object(I.jsxs)(N.a,{children:[Object(I.jsx)(q.a,{variant:"outlined",startIcon:Object(I.jsx)(m.a,{children:"add"}),onClick:function(){s(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442"}),e.map((function(t){return Object(I.jsx)(A,{data:t},t.id)})),o?Object(I.jsx)(X,{toggle:o,handleClick:function(){s(!1),n.getProducts()}}):null]})},V=(n(97),n(98),function(t){return Object(I.jsx)(S.a,{children:Object(I.jsx)(g.b,{to:"/dish/"+t.data.id,children:Object(I.jsx)(y.a,{children:t.data.name})})})}),Y=function(){var t=L(),e=t.data.dishes;t.actions;return Object(I.jsx)(N.a,{children:e.map((function(t){return Object(I.jsx)(V,{data:t},t.id)}))})},$=(n(99),function(){return Object(I.jsx)("div",{children:"Recipes page"})});var tt=240,et=Object(v.a)((function(t){return Object(k.a)({root:{display:"flex"},drawer:Object(O.a)({},t.breakpoints.up("sm"),{width:tt,flexShrink:0}),appBar:Object(O.a)({},t.breakpoints.up("sm"),{width:"calc(100% - ".concat(tt,"px)"),marginLeft:tt}),menuButton:Object(O.a)({marginRight:t.spacing(2)},t.breakpoints.up("sm"),{display:"none"}),toolbar:t.mixins.toolbar,drawerPaper:{width:tt},content:{flexGrow:1,padding:t.spacing(3)}})})),nt=n(63),ct=n.n(nt),at=function(t){var e=t.match,n=L(),a=n.data.product,r=n.actions;Object(c.useEffect)((function(){r.getProductById(e.params.productId)}),[]);var o=a.urlPic?Object(I.jsx)("img",{src:a.urlPic,alt:"product`s picture",className:ct.a.product_img}):"";return Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:a.name}),o,Object(I.jsx)("div",{className:ct.a.product_description,children:a.description})]})},rt=n(57),ot=n.n(rt);function it(t,e){return Promise.all(t[e].map((function(t){return t.get().then((function(t){return t.data()}))})))}function st(t,e){return t[e].get().then((function(t){return t.data()}))}var ut=function(t){var e=t.match,n=L(),a=n.data,r=(a.dish,a.product,a.dishProducts,n.actions,Object(c.useState)()),o=Object(i.a)(r,2),s=(o[0],o[1],function(t,e){var n=Object(c.useState)(),a=Object(i.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){return t.onSnapshot((function(t){var n=t.data();e?(Array.isArray(n[e])?it(n,e):st(n,e)).then((function(t){n[e]=t,o(n)})):o(n)}))}),[]),[r]}(F.collection("dishes").doc(e.params.dishId),"products_list")),u=Object(i.a)(s,1)[0],d=u&&u.urlPic?Object(I.jsx)("img",{src:u.urlPic,alt:"dishes`s picture",className:ot.a.dish_img}):"";return Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:u&&u.name}),d,Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(I.jsx)(N.a,{children:u&&u.products_list.map((function(t){return Object(I.jsxs)(S.a,{children:[Object(I.jsx)("img",{src:t.urlPic,alt:"products` picture",className:ot.a.products_list__img}),Object(I.jsx)("span",{className:ot.a.products_list__text,children:t.name})]})}))})]})]})},dt=function(t){var e=t.window,n=et(),a=Object(_.a)(),r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],O=o[1],f=function(){O(!s)},x=void 0!==e?function(){return e().document.body}:void 0,g=function(){var t,e,n=Object(c.useState)("light"),a=Object(i.a)(n,2),r=a[0],o=a[1];(null===(t=localStorage)||void 0===t?void 0:t.getItem("Theme"))||(localStorage.setItem("Theme","light"),o("light"));var s=null===(e=localStorage)||void 0===e?void 0:e.getItem("Theme");return Object(c.useEffect)((function(){o(s)}),[s]),{currentTheme:s,changeTheme:function(){"light"===r?(o("dark"),localStorage.setItem("Theme","dark")):(o("light"),localStorage.setItem("Theme","light"))}}}();g.currentTheme,g.changeTheme;return Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsx)(d.a,{}),Object(I.jsx)(l.a,{position:"fixed",className:n.appBar,children:Object(I.jsx)(j.a,{children:Object(I.jsx)(b.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:f,className:n.menuButton,children:Object(I.jsx)(m.a,{children:"menu"})})})}),Object(I.jsxs)("nav",{className:"".concat(n.drawer," ").concat(u.a.nav),children:[Object(I.jsx)(p.a,{smUp:!0,implementation:"css",children:Object(I.jsx)(h.a,{container:x,variant:"temporary",anchor:"rt1"===a.direction?"right":"left",open:s,onClose:f,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0},children:Object(I.jsx)(C,{})})}),Object(I.jsx)(p.a,{xsDown:!0,implementation:"css",children:Object(I.jsx)(h.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0,children:Object(I.jsx)(C,{})})})]}),Object(I.jsxs)("main",{className:n.content,children:[Object(I.jsx)("div",{className:n.toolbar}),Object(I.jsxs)(D.c,{children:[Object(I.jsx)(D.a,{path:"/products",component:Z}),Object(I.jsx)(D.a,{path:"/product/:productId",component:at}),Object(I.jsx)(D.a,{path:"/dishes",component:Y}),Object(I.jsx)(D.a,{path:"/dish/:dishId",component:ut}),Object(I.jsx)(D.a,{path:"/recipes",component:$})]})]})]})},lt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};o.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(g.a,{children:Object(I.jsx)(dt,{})})}),document.getElementById("root")),lt()},29:function(t,e,n){t.exports={menu_container:"Menu_menu_container__3JDnZ",menu_group:"Menu_menu_group__1yh8W",menu_list:"Menu_menu_list__1EDpk",menu_list_item:"Menu_menu_list_item__1jGiR",menu_list_item_icon:"Menu_menu_list_item_icon__1u92m",menu_toolbar:"Menu_menu_toolbar__3_Jgr"}},38:function(t,e,n){t.exports={modal:"PopUp_modal__3rPgp",modal_content:"PopUp_modal_content__3yfD5",close:"PopUp_close__2qXdl",modal_header:"PopUp_modal_header__2yb10",title:"PopUp_title__2g163",form:"PopUp_form__1Kx9F"}},57:function(t,e,n){t.exports={dish_img:"Dish_dish_img__3lBm6",dish_description:"Dish_dish_description__2JFtq",products_list__img:"Dish_products_list__img__34N2A",products_list__text:"Dish_products_list__text__KjtfP"}},63:function(t,e,n){t.exports={product_img:"Product_product_img__1Eqp-",product_description:"Product_product_description__3psHp"}},71:function(t,e,n){t.exports={nav:"App_nav__3zW-1"}},81:function(t,e,n){},90:function(t,e,n){},95:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.86590bb8.chunk.js.map